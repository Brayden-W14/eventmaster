(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{4172:function(e,r,t){Promise.resolve().then(t.bind(t,1289))},5653:function(e,r,t){"use strict";t.d(r,{I:function(){return d},db:function(){return i}});var n=t(4752),a=t(738),u=t(5978),o=t(6834);let s=(0,a.ZF)({apiKey:"AIzaSyCHCfOYdJGc7lpbNHeE7-pz0-wk2Y0ywM0",authDomain:"eventmaster-database.firebaseapp.com",projectId:"eventmaster-database",storageBucket:"eventmaster-database.firebaseapp.com",messagingSenderId:"594662023462",appId:"1:594662023462:web:ec42c0d6f019882bdf61e7",measurementId:"G-3PQRS2J4ZD"}),i=(0,u.ad)(s);(0,o.Gb)().then(e=>{e&&(0,o.IH)(s)});let d=(0,n.v0)(s)},9376:function(e,r,t){"use strict";var n=t(5475);t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},1289:function(e,r,t){"use strict";t.r(r);var n=t(7437),a=t(2265),u=t(5653),o=t(5978),s=t(9376);r.default=()=>{let[e,r]=(0,a.useState)(null),[t,i]=(0,a.useState)(0),[d,l]=(0,a.useState)(""),[c,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(0),[v,x]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[m,j]=(0,a.useState)(""),y=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=u.I.currentUser;if(!e){y.push("/signin");return}try{let t=(0,o.JU)(u.db,"users",e.uid),n=await (0,o.QT)(t);n.exists()&&n.data().isAdmin?r(!0):(r(!1),y.push("/dashboard"))}catch(e){console.error("Error checking admin status:",e),r(!1),y.push("/dashboard")}})()},[y]);let C=async e=>{if(e.preventDefault(),!t||!d||!c||!p||!v||!g){j("All fields are required.");return}if(window.confirm("Are you sure you want to create this venue?"))try{let e=(0,o.JU)(u.db,"veneus",g);await (0,o.pl)(e,{capacity:t,features:d,location:c,price:p,ven_name:v,venue_id:g}),j("Venue added successfully!"),i(0),l(""),h(""),b(0),x(""),f("")}catch(e){console.error("Error adding venue:",e),j("Error adding venue. Please try again.")}};return null===e?(0,n.jsx)("p",{children:"Loading..."}):e?(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Add a Venue "}),(0,n.jsx)("h1",{children:"Please fill out the following information to add a new venue:"}),m&&(0,n.jsx)("p",{children:m}),(0,n.jsxs)("form",{onSubmit:C,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"capacity",children:"Capacity:"}),(0,n.jsx)("input",{type:"number",id:"capacity",value:t,onChange:e=>i(Number(e.target.value)),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"features",children:"Features:"}),(0,n.jsx)("input",{type:"text",id:"features",value:d,onChange:e=>l(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"location",children:"Location:"}),(0,n.jsx)("input",{type:"text",id:"location",value:c,onChange:e=>h(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"price",children:"Price:"}),(0,n.jsx)("input",{type:"number",id:"price",value:p,onChange:e=>b(Number(e.target.value)),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"ven_name",children:"Venue Name:"}),(0,n.jsx)("input",{type:"text",id:"ven_name",value:v,onChange:e=>x(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"venue_id",children:"Venue ID:"}),(0,n.jsx)("input",{type:"text",id:"venue_id",value:g,onChange:e=>f(e.target.value),required:!0})]}),(0,n.jsx)("button",{type:"submit",style:{backgroundColor:"#4CAF50",color:"white",padding:"12px 24px",fontSize:"16px",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.3s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#45a049"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#4CAF50"},children:"Add Venue"})]}),(0,n.jsx)("button",{onClick:()=>{y.push("/dashboard")},style:{backgroundColor:"#f44336",color:"white",padding:"12px 24px",fontSize:"16px",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"10px",transition:"background-color 0.3s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#e53935"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#f44336"},children:"Back to Home"})]}):(0,n.jsx)("p",{children:"You do not have permission to view this page."})}}},function(e){e.O(0,[358,400,957,971,117,744],function(){return e(e.s=4172)}),_N_E=e.O()}]);